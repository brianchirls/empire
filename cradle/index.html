<html>
<head>
<meta http-equiv="Contexnt Type" content="text/html; charset=iso-8899-1" />
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
	<title>Cradle flip version</title>


</head>
<body>

	<div class="outer">
		<div id="header" style="padding-top: 23px;">
			<a href="videos.html"><img src="art/logo.jpg" width="179" height="33"></a><br />
			<a href="videos.html"><img src="art/Bakermat.png" width="81" height="22"></a>
		</div>
		<div id="outerinner">
			<div id="instructions1" style="display: none;">
				This is the path you took. If you could try again, what would you do differently?
			</div>
			<div id="container">
				<div id="card">
					<div class="front">
						<video id="video1" src="mp4/spotters.mp4" autoplay="off" width="960" height="540"></video>
					</div>
					<div class="back">
						<video id="video2" src="mp4/schipol.mp4" autoplay="off" width="960" height="540"></video>
					</div>
				</div>
			</div>
			<div id="controls">
				<span id="playElement" style="cursor: pointer;"></span>
				<div id="scrubber"><div id="progress"></div>
				<input type="button" value="flip" id="flip" onclick="$('#card').toggleClass('flipped');"/>

			</div>
		</div>
					
		<div id="menu">
			<div id="videos" onclick="location.href='videos.html'"></div>
			<div id="essays" onclick="location.href='essays.html'"></div>
			<div id="about" onclick="location.href='about.html'"></div>
			</div>
	</div>
			
    <script>

		var x = 0;
		var y = 0;
		var refreshInterval = 0;
		var millisInterval = 1000;
		var xTrail = Array();

		var xMargin = 10;
		var yMargin = 480;
		var imgWidth = 960;
		var imgHeight = 540;


		var vid1Loaded = false;
		var vid2Loaded = false;
		var playState = 0;
		var instructionsin = false;

		$(document).ready(function(){		
		
			document.getElementById("video1").addEventListener("canplay",function(){vid1Loaded = true; playDecide();},true);
			document.getElementById("video2").addEventListener("canplay",function(){vid2Loaded = true; playDecide();},true);
			
			document.getElementById("video1").addEventListener("ended",function(){ endVids();},true);
			document.getElementById("video1").addEventListener("timeupdate",function(){scrubberUpdater();},true);
			
			
		})
		
		function scrubberUpdater (intime){
			var dur = Math.floor(document.getElementById("video1").currentTime);
			if(dur > 0){
				var ratio = (document.getElementById("video1").duration / dur);
			}
			$("#progress").css({ "width": (930 / ratio) + 'px' })
		}
		
		function playDecide(){
			if(vid1Loaded && vid2Loaded){
				playVids();
				playState = 1;
			}
		}
		
		$("#playElement").click(function () {
			playButton();
			if(playState == 1){
				$("#playElement").css({'background':'url(art/playGray.png)'})
			} else {				
				$("#playElement").css({'background':'url(art/pauseGray.png)'})
			}
		}).mouseover(function (){
			if(playState == 1){
				$("#playElement").css({'background':'url(art/playWhite.png)'})
			} else {				
				$("#playElement").css({'background':'url(art/pauseWhite.png)'})
			}
		}).mouseout(function (){
				if(playState == 1){
					$("#playElement").css({'background':'url(art/playGray.png)'})
				} else {				
					$("#playElement").css({'background':'url(art/pauseGray.png)'})
				}
		});
		
		function playButton(){
			if(playState == 1){
				pauseVids();
			}
			else if(playState == 2){
				playVids();
				playState = 1;
			}
			else{
				document.getElementById("video1").currentTime = 0;
				document.getElementById("video2").currentTime = 0;
				playVids();
				playState = 1;				
			}
		}
		
		function playVids(){
			document.getElementById("video1").play();
			document.getElementById("video2").play();
		}
		
		function pauseVids(){
			document.getElementById("video1").pause();
			document.getElementById("video2").pause();
			playState = 2;
		}
		
		function endVids(){
			$("#instructions1").fadeIn('slow');
			playState = 3;
			pauseMouse();
		}

    </script>	

</body>
</html>